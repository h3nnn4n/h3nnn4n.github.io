<!DOCTYPE html>
<html lang="en-us">
    <head>
         
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Dancing Room</title>
        
        <style>

    html body {
        font-family: 'Raleway', sans-serif;
        background-color: white;
    }

    :root {
        --accent: #1695e9;
        --border-width:  5px ;
    }

</style>


<link rel="stylesheet" href="https://h3nnn4n.github.io/css/main.css">





<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Raleway">


 <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/monokai.min.css"> 


<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">


<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">
 


    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>

     <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/python.min.js"></script>  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/haskell.min.js"></script>  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/c.min.js"></script> 

    <script>hljs.initHighlightingOnLoad();</script>







<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>


<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>


<script>$(document).on('click', function() { $('.collapse').collapse('hide'); })</script>
 <meta name="generator" content="Hugo 0.47" />
        

        
        
        <script async src="https://www.googletagmanager.com/gtag/js?id=UA-66138442-1"></script>
        <script>
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments)};
          gtag('js', new Date());

          gtag('config', 'UA-66138442-1');
        </script>
        
    </head>

    
    
    <script type="text/javascript" async
      src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
    </script>
    

    <body>
         
        <nav class="navbar navbar-default navbar-fixed-top">

            <div class="container">

                <div class="navbar-header">

                    <a class="navbar-brand visible-xs" href="#">Dancing Room</a>

                    <button class="navbar-toggle" data-target=".navbar-collapse" data-toggle="collapse">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>

                </div>

                <div class="collapse navbar-collapse">

                    
                        <ul class="nav navbar-nav">
                            
                                <li><a href="/">Home</a></li>
                            
                                <li><a href="/post/">Posts</a></li>
                            
                                <li><a href="/project/">Projects</a></li>
                            
                                <li><a href="/about/">About</a></li>
                            
                        </ul>
                    

                    
                        <ul class="nav navbar-nav navbar-right">
                            
                                <li class="navbar-icon"><a href="mailto:renan.samuel.da.silva@gmail.com"><i class="fa fa-envelope-o"></i></a></li>
                            
                                <li class="navbar-icon"><a href="https://github.com/h3nnn4n/"><i class="fa fa-github"></i></a></li>
                            
                                <li class="navbar-icon"><a href="https://www.linkedin.com/in/renan-s-silva-76b0a6133/"><i class="fa fa-linkedin"></i></a></li>
                            
                        </ul>
                    

                </div>

            </div>

        </nav>


<main>

    <div class="item">

    
    
    

    
    

    <h4><a href="/post/dancing-room/">Dancing Room</a></h4>
    <h5>September 23, 2018</h5>
    
    <a href="https://h3nnn4n.github.io/tags/javascript"><kbd class="item-tag">javascript</kbd></a>
    
    <a href="https://h3nnn4n.github.io/tags/physics"><kbd class="item-tag">physics</kbd></a>
    
    <a href="https://h3nnn4n.github.io/tags/visual"><kbd class="item-tag">visual</kbd></a>
    
    <a href="https://h3nnn4n.github.io/tags/creative"><kbd class="item-tag">creative</kbd></a>
    

</div>


    <br> <div class="text-justify"><p>A few years ago I found a thread on the Wolfram forum about
<a href="https://en.wikipedia.org/wiki/Swarm_intelligence">swarm intelligence</a>
and <a href="http://www.patternsinnature.org/Book/EmergentPatterns.html">emergent behavior</a>,
two things that I enjoy a lot. The title of the thread
was something like &ldquo;Dancing With Friends and Enemies&rdquo; and it does not exist anymore
as far as I can tell. However, I was able to find a copy <a href="http://kaurov.com/wordpress/?p=1096">here</a>.
The idea is pretty simple and below you can see my reinterpretation of it.</p>

<iframe class='iframe' src="/Dancing-Rooms/src/index.html" width="700" height="680" frameBorder="0"></iframe>

<p>The behavior of the original system is based on a very simple set of rules, which I will quote from
Simon Woods here:</p>

<blockquote>
<p>1000 dancers assume random positions on the dance-floor. Each randomly
chooses one “friend” and one “enemy”. At each step every dancer moves 0.5%
closer to the centre of the floor, then takes a large step towards their
friend and a small step away from their enemy. At random intervals one dancer
re-chooses their friend and enemy. Here is the dance…</p>
</blockquote>

<p>And the original Mathematica code is the following:</p>

<pre><code class="language-f#">n = 5000;
r := RandomInteger[{1, n}];
f := (#/(.007 + Sqrt[#.#])) &amp;amp; /@ (x[[#]] - x) &amp;amp;;
s := With[{r1 = r}, p[[r1]] = r; q[[r1]] = r];
x = RandomReal[{-1, 1}, {n, 2}];
{p, q} = RandomInteger[{1, n}, {2, n}];
Graphics[{PointSize[0.008], Opacity[.5], Dynamic[If[r &amp;lt; 100, s];
Point[x = 0.995 x + 0.02 f[p] - 0.01 f[q]]]}, PlotRange -&amp;gt; 2]
</code></pre>

<p>Now, when I reimplemented it, all was done from the top of my head. I could not find
the original post or anything else mentioning it. All I could remember was that
the particles moved towards <strong>friends</strong> and away from <strong>enemies</strong>. Also, they
moved towards the <strong>center</strong> a little bit. While on the original each particle had one
<strong>enemie</strong>, I set each particle to have 30 enemies. This, in my opinion, made the system
more dynamic, where one or a set of particles can become isolated from the others.
Another difference is that the particles are attracted both to the center of the <strong>room</strong>
and the <strong>center of mass</strong> of all particles. This helps them to stay grouped but
nevertheless move around. I also used <a href="http://brm.io/matter-js/">matter.js</a>, a physics
engine. The use of it allows for the particle to have mass, friction, partially
elastic collisions, inertia and more, which gave the system further complexity.
Furthermore, the use of the physics engine and the rectangular shape for the
particles allows them to bump and even get stuck at each other, adding
an extra dimension to their collective behavior.</p>

<p>The system is full of complex behaviors. Initially, the system just looks like a mess of particles
running around. While some little time it is possible to see that the particles are chasing one
another. Sometimes a circle-like pattern appears. And sometimes it looks like there is
one particle running away while several particles are chasing after it. These two are
my favorite patterns so far. The chasing behavior led a <a href="http://khskarl.me/">friend</a> of mine to say
&ldquo;It looks like <a href="https://en.wikipedia.org/wiki/Boids">boids</a>, but trying to kill each other&rdquo;.</p>

<p>A special situation appears when the system reassigns the <strong>friends</strong> and <strong>enemies</strong>
of the particles. Visually it looks like the particles running away got
tired of fleeing and are taking revenge upon their previous chasers.
Since the reassignment happens gradually, it looks like a single particle
is taking revenge and charging at the other particles. And then inspiring the others
to do the same.</p>

<p>So far this project has been very amusing. I spent hours already just looking at
the behavior of the swarm and tweaking their behavior.
My reinterpretation / reimplementation full source code
is available <a href="https://github.com/h3nnn4n/Dancing-Rooms">here</a>.
It is written in JavaScript and it uses <a href="http://brm.io/matter-js/">matter.js</a> for the
physics and <a href="https://p5js.org/">p5js</a> for the graphics. Enjoy and thank you.</p>
</div>

    
    

    

        <h4 class="page-header">Related</h4>

         <div class="item">

    
    
    

    
    

    <h4><a href="/post/dancing-room-zero/">Dancing Room Zero</a></h4>
    <h5>September 29, 2018</h5>
    
    <a href="https://h3nnn4n.github.io/tags/javascript"><kbd class="item-tag">javascript</kbd></a>
    
    <a href="https://h3nnn4n.github.io/tags/physics"><kbd class="item-tag">physics</kbd></a>
    
    <a href="https://h3nnn4n.github.io/tags/visual"><kbd class="item-tag">visual</kbd></a>
    
    <a href="https://h3nnn4n.github.io/tags/creative"><kbd class="item-tag">creative</kbd></a>
    

</div>
  <div class="item">

    
    
    

    
    

    <h4><a href="/post/cracks/">Cracks</a></h4>
    <h5>September 29, 2018</h5>
    
    <a href="https://h3nnn4n.github.io/tags/javascript"><kbd class="item-tag">javascript</kbd></a>
    
    <a href="https://h3nnn4n.github.io/tags/physics"><kbd class="item-tag">physics</kbd></a>
    
    <a href="https://h3nnn4n.github.io/tags/visual"><kbd class="item-tag">visual</kbd></a>
    
    <a href="https://h3nnn4n.github.io/tags/creative"><kbd class="item-tag">creative</kbd></a>
    

</div>
  <div class="item">

    
    
    

    
    

    <h4><a href="/post/flow/">Flow field</a></h4>
    <h5>September 22, 2018</h5>
    
    <a href="https://h3nnn4n.github.io/tags/javascript"><kbd class="item-tag">javascript</kbd></a>
    
    <a href="https://h3nnn4n.github.io/tags/physics"><kbd class="item-tag">physics</kbd></a>
    
    <a href="https://h3nnn4n.github.io/tags/visual"><kbd class="item-tag">visual</kbd></a>
    
    <a href="https://h3nnn4n.github.io/tags/creative"><kbd class="item-tag">creative</kbd></a>
    

</div>
 

    

    

</main>

        <footer>

            <p class="copyright text-muted">&copy; All rights reserved. Powered by <a href="https://gohugo.io">Hugo</a> and <a href="https://github.com/calintat/minimal">Minimal</a></p>

        </footer>
       
    </body>

</html>

